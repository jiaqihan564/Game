# 贾先生的2D游戏项目

## 项目概述

这是一个使用Go语言和Ebiten游戏引擎开发的2D游戏项目。游戏采用状态机架构，包含菜单界面和游戏主界面两个主要场景，具有角色移动、背包系统、网格地图等核心功能。

## 功能特性

### 🎮 核心功能
- **多场景切换**: 支持菜单界面和游戏主界面的无缝切换
- **角色控制**: 使用WASD或IJKL键控制角色移动
- **背包系统**: 按F键打开/关闭背包，支持物品选择和查看
- **网格地图**: 基于32x32像素网格的地图系统
- **实时FPS显示**: 游戏运行时显示当前帧率

### 🎨 界面设计
- **菜单界面**: 
  - 精美的背景图片
  - 交互式开始按钮（悬停效果、点击动画）
  - 鼠标点击检测
- **游戏界面**:
  - 角色精灵显示
  - 网格地图渲染
  - 背包物品展示
  - 背景图片支持

### 🎯 交互控制
- **键盘控制**:
  - `W/I`: 向上移动
  - `S/K`: 向下移动
  - `A/J`: 向左移动
  - `D/L`: 向右移动
  - `F`: 打开/关闭背包
  - `↑/W`: 背包中选择上一个物品
  - `↓/S`: 背包中选择下一个物品

## 技术架构

### 🛠️ 技术栈
- **编程语言**: Go 1.24.4
- **游戏引擎**: Ebiten v2.8.8
- **架构模式**: 状态机模式
- **模块化设计**: 分离的界面管理

### 📁 项目结构
```
Game/
├── main.go              # 程序入口点
├── game_state.go        # 游戏状态管理和主游戏结构
├── screen_menu.go       # 菜单界面实现
├── screen_play.go       # 游戏主界面实现
├── item.go             # 物品系统定义
├── go.mod              # Go模块依赖
├── go.sum              # 依赖校验文件
├── photos/             # 游戏资源文件夹
│   ├── beijing.png     # 菜单背景
│   ├── playBeijing.png # 游戏背景
│   ├── zhu.png         # 主角精灵
│   └── type/
│       └── jinBi.png   # 金币物品图片
└── README.md           # 项目说明文档
```

### 🏗️ 核心组件

#### 1. 游戏状态管理 (`game_state.go`)
- 定义游戏状态枚举（菜单、游戏）
- 实现状态切换逻辑
- 统一的更新和渲染入口

#### 2. 菜单界面 (`screen_menu.go`)
- 背景图片渲染
- 交互式按钮实现
- 鼠标事件处理

#### 3. 游戏主界面 (`screen_play.go`)
- 角色移动系统
- 网格地图渲染
- 背包系统实现
- 物品管理

#### 4. 物品系统 (`item.go`)
- 物品数据结构定义
- 背包物品管理

## 安装与运行

### 环境要求
- Go 1.24.4 或更高版本
- 支持OpenGL的图形驱动

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <项目地址>
   cd Game
   ```

2. **安装依赖**
   ```bash
   go mod tidy
   ```

3. **运行游戏**
   ```bash
   go run .
   ```

### 构建可执行文件
```bash
# Windows
go build -o game.exe .

# Linux/macOS
go build -o game .
```

## 开发说明

### 添加新功能
1. 在 `game_state.go` 中添加新的状态枚举
2. 创建对应的界面文件（如 `screen_new.go`）
3. 在 `Game` 结构体中添加新界面实例
4. 在 `Update()` 和 `Draw()` 方法中添加新状态的处理逻辑

### 资源管理
- 所有图片资源放在 `photos/` 目录下
- 使用 `ebitenutil.NewImageFromFile()` 加载图片
- 建议在初始化时预加载所有资源

### 性能优化
- 使用 `ebiten.SetScreenClearedEveryFrame(true)` 优化渲染
- 预加载图片资源避免运行时加载
- 合理使用状态机减少不必要的计算

## 项目特色

### 🎯 设计亮点
- **模块化架构**: 清晰的代码分离，易于维护和扩展
- **状态机模式**: 优雅的场景切换管理
- **交互体验**: 丰富的用户交互反馈
- **资源管理**: 统一的图片资源加载和管理

### 🔧 技术优势
- **跨平台支持**: 基于Ebiten引擎，支持多平台
- **高性能**: Go语言的高效性能
- **易扩展**: 清晰的代码结构便于功能扩展
- **现代化**: 使用最新的Go语言特性和游戏开发最佳实践

## 未来规划

### 🚀 计划功能
- [ ] 添加更多游戏场景
- [ ] 实现物品使用功能
- [ ] 添加音效和背景音乐
- [ ] 实现存档系统
- [ ] 添加更多角色动画
- [ ] 实现多人游戏功能

### 🛠️ 技术改进
- [ ] 优化渲染性能
- [ ] 添加粒子效果系统
- [ ] 实现更复杂的AI系统
- [ ] 添加网络功能

## 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发规范
- 遵循Go语言编码规范
- 添加适当的注释说明
- 确保代码的可读性和可维护性
- 测试新功能后再提交

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

---

**开发者**: 贾先生  
**技术栈**: Go + Ebiten  
**项目类型**: 2D游戏开发  
**最后更新**: 2024年 